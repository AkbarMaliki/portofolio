(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-todo-schedule~033b9886"],{"5e70":function(t,a,e){"use strict";e("a278")},a278:function(t,a,e){},a760:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.modal?e("div",{staticStyle:{width:"100vw",height:"100vw",position:"absolute",top:"0",left:"0","z-index":"100"},on:{click:function(a){t.modal=!1}}}):t._e(),t.modal?e("div",[e("div",{staticClass:"bg-white p-4 shadow-lg rounded-lg",staticStyle:{position:"fixed",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)","z-index":"120"}},[e("div",{staticClass:"p-5"},[e("p",{staticClass:"p-3 font-bold"},[t._v("ADD SCHEDULE !")]),e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.save(a)}}},[e("tr",[e("td",[t._v("Tanggal")]),e("td",{staticClass:"pl-3 pr-3"},[t._v(":")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.tanggal,expression:"vdata.tanggal"}],staticClass:"form-control form-control-sm",attrs:{type:"date",id:"tanggal",name:"tanggal",placeholder:"tanggal"},domProps:{value:t.vdata.tanggal},on:{input:function(a){a.target.composing||t.$set(t.vdata,"tanggal",a.target.value)}}})])]),e("tr",[e("td",[t._v("Jam")]),e("td",{staticClass:"pl-3 pr-3"},[t._v(":")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.jam,expression:"vdata.jam"}],staticClass:"form-control form-control-sm",attrs:{type:"time",id:"jam",name:"jam",placeholder:"jam"},domProps:{value:t.vdata.jam},on:{input:function(a){a.target.composing||t.$set(t.vdata,"jam",a.target.value)}}})])]),e("tr",[e("td",[t._v("Title")]),e("td",{staticClass:"pl-3 pr-3"},[t._v(":")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.title,expression:"vdata.title"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"title",name:"title",placeholder:"title"},domProps:{value:t.vdata.title},on:{input:function(a){a.target.composing||t.$set(t.vdata,"title",a.target.value)}}})])]),e("tr",[e("td",[t._v("Isi")]),e("td",{staticClass:"pl-3 pr-3"},[t._v(":")]),e("td",[e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.isi,expression:"vdata.isi"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"isi",name:"isi",rows:"2",placeholder:"isi..."},domProps:{value:t.vdata.isi},on:{input:function(a){a.target.composing||t.$set(t.vdata,"isi",a.target.value)}}})])])]),e("hr"),e("br"),"simpan"==t.crud?e("button",{staticClass:"btn btn-sm btn-dark ",attrs:{type:"submit"},on:{click:function(a){t.crud="simpan"}}},[e("img",{staticClass:"d-inline",staticStyle:{height:"30px",width:"20px",filter:"brightness(0) invert(1)"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/pen.svg",alt:""}}),t._v(" Simpan")]):t._e(),"simpan"!=t.crud?e("button",{staticClass:"btn btn-sm btn-dark ",attrs:{type:"submit"},on:{click:function(a){t.crud="edit"}}},[e("img",{staticClass:"d-inline",staticStyle:{height:"30px",width:"20px",filter:"brightness(0) invert(1)"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/pen.svg",alt:""}}),t._v(" Edit")]):t._e(),"simpan"!=t.crud?e("button",{staticClass:"btn btn-sm btn-dark ",attrs:{type:"submit"},on:{click:function(a){t.crud="hapus"}}},[e("img",{staticClass:"d-inline",staticStyle:{height:"30px",width:"20px",filter:"brightness(0) invert(1)"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/pen.svg",alt:""}}),t._v(" Hapus")]):t._e()])])])]):t._e(),e("div",{staticClass:"container rounded-lg shadow-lg p-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-9 order-2 order-sm-1"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-5"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.bulan,expression:"vdata.bulan"}],staticClass:"form-control",staticStyle:{width:"100px"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.vdata,"bulan",a.target.multiple?e:e[0])}}},t._l(12,(function(a,s){return e("option",{key:s,domProps:{value:a}},[t._v(t._s("1"==a?"Januari":"2"==a?"Februari":"3"==a?"Maret":"4"==a?"April":"5"==a?"Mei":"6"==a?"Juni":"7"==a?"Juli":"8"==a?"Agustus":"9"==a?"September":"10"==a?"Oktober":"11"==a?"November":"12"==a?"Desember":""))])})),0)]),e("div",{staticClass:"col-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.tahun,expression:"vdata.tahun"}],staticClass:"form-control form-control-sm",staticStyle:{width:"100px"},attrs:{type:"text",id:"tahun",name:"tahun",placeholder:"tahun"},domProps:{value:t.vdata.tahun},on:{input:function(a){a.target.composing||t.$set(t.vdata,"tahun",a.target.value)}}})])]),e("br"),e("div",{staticClass:"scroll",staticStyle:{}},t._l(t.tanggalnya,(function(a,s){return e("button",{key:s,staticClass:"btn btn-sm  ml-2",class:a.toString().split(" ")[2]==t.tgl?"btn-dark":"btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.ambil(a)}}},[t._v(" "+t._s(a.toString().split(" ")[0])+" "),e("br"),t._v(" "+t._s(a.toString().split(" ")[2])+" ")])})),0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("br"),t._l(t.td,(function(a,s){return e("div",{key:s+"scheul",staticClass:"row p-3",on:{click:function(e){return t.ambil2(a)}}},[e("div",{staticClass:"col-3  d-flex justify-content-center   text-black shadow-lg rounded-lg"},[e("div",{staticClass:"align-self-center font-bold text-lg"},[e("button",{staticClass:"btn btn-sm btn-dark rounded-circle p-3",attrs:{type:"button",name:"",id:""}},[t._v(" "+t._s(a.jam)+" ")])])]),e("div",{staticClass:"col-9 "},[e("div",{staticClass:"p-3 text-sm rounded-lg shadow-lg hover:bg-blue-400 cursor-pointer "},[e("img",{staticClass:"d-inline float-right",staticStyle:{height:"20px",width:"20px"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/pin.svg",alt:""}}),e("p",{staticClass:"font-bold text-lg"},[t._v(" "+t._s(a.title)+" ")]),e("p",{},[t._v(" "+t._s(a.isi)+" ")])])])])}))],2)])]),e("div",{staticClass:"col-sm-3 order-1 order-sm-2 mb-3"},[t._m(0),e("button",{staticClass:"btn btn-sm btn-style9 btn-block text-black font-bold ",attrs:{type:"button"},on:{click:function(a){t.modal=!0,t.crud="simpan",t.refresh()}}},[t._v("Add +")])])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"text-center font-bold text-xl p-3"},[e("img",{staticClass:"d-inline",staticStyle:{height:"30px",width:"20px"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/calendar.svg",alt:""}}),t._v(" Schedule")])}],n=e("5530"),l=(e("4de4"),e("1276"),e("ac1f"),e("0d03"),e("d3b7"),e("25f0"),e("d81d"),e("cb29"),e("2ef0")),o=e.n(l),r=e("8aa5"),d=e.n(r),c=e("340b"),u=e.n(c),g=d.a.firestore(),p={data:function(){return{modal:!1,pilihHari:"sun",tgl:1,crud:"simpan",datanya:[],tanggals:[],vdata:{bulan:7,tahun:2021}}},computed:{tanggalnya:function(){var t=this.getAllTanggal(this.vdata.bulan,this.vdata.tahun);return t},td:function(){var t=this,a=this.datanya;return a=a.filter((function(a){if(a.tanggal.split("-")[2]==t.tgl)return a})),a=a.filter((function(a){if(a.tanggal.split("-")[1]==t.vdata.bulan)return a})),a=a.filter((function(a){if(a.tanggal.split("-")[0]==t.vdata.tahun)return a})),a=o.a.orderBy(a,"jam","asc"),a}},methods:{refresh:function(){this.vdata.tanggal="",this.vdata.jam="",this.vdata.title="",this.vdata.isi="",this.$forceUpdate()},ambil:function(t){console.log(t),console.log(new Date(2014,6,2)),this.tgl=t.toString().split(" ")[2]},ambil2:function(t){this.modal=!0,this.crud="edit",this.vdata=JSON.parse(JSON.stringify(t)),this.$forceUpdate(),console.log(t)},simpan:function(){alert("berhasil disimpan")},save:function(t){"simpan"==this.crud?(this.vdata.tanggal=this.vdata.tanggal.toString(),this.vdata.createdAt=u.a.format(new Date,"DD MMMM YYYY"),this.vdata.created=u.a.format(new Date,"DD MMMM YYYY"),g.collection("app_todo_schedule").doc().set(this.vdata,{merge:!0}).then((function(t){console.log("input berhasil")}))["catch"]((function(t){console.log(t.message)}))):"edit"==this.crud?(this.vdata.tanggal=this.vdata.tanggal.toString(),g.collection("app_todo_schedule").doc(this.vdata.id).set(this.vdata,{merge:!0}).then((function(t){console.log("update berhasil")}))["catch"]((function(t){console.log(t.message)}))):"hapus"==this.crud&&confirm("are you sure to delete this item ?")&&(console.log(this.vdata.id),g.collection("app_todo_schedule").doc(this.vdata.id)["delete"]().then((function(t){console.log("berhasil hapus!")})))},getData:function(){var t=this;g.collection("app_todo_schedule").onSnapshot((function(a){var e=a.docs.map((function(t){return console.log(t.id),Object(n["a"])({id:t.id},t.data())}));console.log(e),t.datanya=e,t.$forceUpdate()}))},test:function(){var t=this;g.collection("app_todo_schedule").onSnapshot((function(a){var e=a.docs.map((function(t){return console.log(t.id),Object(n["a"])({id:t.id},t.data())}));console.log(e),t.datanya=e,t.$forceUpdate()}))},getTgl:function(t){var a="";return"Jan"==t?a=1:"Feb"==t?a=2:"Mar"==t?a=3:"Apr"==t?a=4:"May"==t?a=5:"Jun"==t?a=6:"Jul"==t?a=7:"Aug"==t?a=8:"Sep"==t?a=9:"Oct"==t?a=10:"Nov"==t?a=11:"Dec"==t&&(a=12),a},getAllTanggal:function(t,a){return new Array(31).fill("").map((function(e,s){return new Date(a,t-1,s+1)})).filter((function(a){return a.getMonth()===t-1}))}},mounted:function(){var t=new Date;this.vdata.bulan=this.getTgl(t.toString().split(" ")[1]),this.vdata.tahun=t.toString().split(" ")[3],this.tgl=t.toString().split(" ")[2],this.tanggals=this.getAllTanggal(this.vdata.bulan,this.vdata.tahun),this.getData()},layout:"app_todo"},v=p,m=(e("5e70"),e("2877")),h=Object(m["a"])(v,s,i,!1,null,null,null);a["default"]=h.exports}}]);
//# sourceMappingURL=page-todo-schedule~033b9886.5e85fc09.js.map